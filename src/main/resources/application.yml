spring:
  application:
    name: ms-order-api

  datasource:
    read:
      url: jdbc:postgresql://localhost:5433/order_db
      username: user
      password: password
      driver-class-name: org.postgresql.Driver
      hikari:
        connection-test-query: SELECT 1
    write:
      url: jdbc:postgresql://localhost:5432/order_db
      username: user
      password: password
      driver-class-name: org.postgresql.Driver
      hikari:
        connection-test-query: SELECT 1

  jpa:
    hibernate:
      ddl-auto: none
    show-sql: true

  flyway:
    enabled: false
    locations: classpath:db/migration
    baseline-on-migrate: true
    validate-on-migrate: true

management:
  endpoints:
    web:
      exposure:
        include: health, info, metrics, prometheus
  endpoint:
    health:
      show-details: always
      probes:
        enabled: true
  metrics:
    tags:
      application: ms-order-api-observabilidade

tracing:
  sampling:
    probability: 1.0  # 100% das requisições serão rastreadas

otel:
  exporter:
    otlp:
      endpoint: http://localhost:4317  # OpenTelemetry Collector, Jaeger, Tempo...
