spring:
  application:
    name: ms-order-api

management:
  endpoints:
    web:
      exposure:
        include: health, info, metrics, prometheus
  endpoint:
    health:
      show-details: always
      probes:
        enabled: true
  metrics:
    tags:
      application: ms-order-api-observabilidade

tracing:
  sampling:
    probability: 1.0  # 100% das requisições serão rastreadas

otel:
  exporter:
    otlp:
      endpoint: ${OTEL_EXPORTER_OTLP_ENDPOINT:http://localhost:4317}  # OpenTelemetry Collector endpoint

# Profile-specific configuration lives in separate files:
# - application-inmemory.yml (perfil `inmemory`): usa H2 em memória, jpa ddl-auto=create-drop, flyway disabled
# - application-db.yml (perfil `db`): usa Postgres para read/write e Flyway habilitado
#
# Ative um profile com:
#   -Dspring.profiles.active=inmemory  (ou db)
# ou via variável de ambiente: SPRING_PROFILES_ACTIVE=inmemory

# Nota: não configuramos datasources e credenciais sensíveis diretamente aqui;
# use variáveis de ambiente ou profiles específicos para isso.
